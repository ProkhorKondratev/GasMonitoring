****Описание проекта****

**Доступные url**
- панель администратора - localhost:8000/admin
- основная карта (требует пройти авторизацию: login: admin, pass: admin) - localhost:8000
- API доступ - localhost:8000/api (требует пройти авторизацию: login: admin, pass: admin)

**Необходимые библиотеки**
- CesiumJS - https://github.com/CesiumGS/cesium/releases/download/1.108/Cesium-1.108.zip
- Draggable (панель управления слоями) - https://cdn.jsdelivr.net/npm/@shopify/draggable@1.0.0-beta.11/lib/draggable.bundle.js

Требуемая структура библиотек: cesium/static/libs/Cesium (папка помещается полностью)
                     cesium/static/libs/draggable/draggable-source.js

**Важно**
- при первом запуске необходимо пройти авторизацию через панель администратора (login: admin, pass: admin)
- для демонстраци загрузки ортофоплана на карту необходимо изменить путь к файлу .gpkg в соответсвующей записи в таблице базы данных (принимает абсолютный путь до файла)

**Содержание**

Проект включает 2 приложения:
- cesium (управление библиотекой CesiumJS: API, ORM, клиентская часть)
- geo_repository (управление хранилищем гео-объектов: охраняемые объекты, ЗМР, ОЗ, ортофотопланы. API, ORM)

Дополнительно:
- config - раздел конфигурации. Отвечает за установку соединения с базой данных, подключение статических файлов, приложений.
- static - содержит статические файлы для загрузки в клиент (иконки)
- requirements.txt - файл с требуемыми python-пакетами

- GasMonitoring.sql - файл дампа базы данных (полный дамп всех таблиц cesium, geo_repository, связей, рабочих таблиц Django)


**Cesium**
Осуществляет управление таблицами базы данных для работы с CesiumJS (Тайловые провайдеры, карты (viewer), стили точек, линий, полигонов, подписей, иконок), формированием API ссылок, панелью администратора.

Базируется на шаблоне cesium_map.html (cesium/templates/cesium_map.html).

Включает:
- управление загрузкой тайловых провайдеров через API: cesium-providers.js (cesium/static/js/cesium-providers.js)
- управление загрузкой основной карты (viewer) через API: cesium-viewers.js (cesium/static/js/cesium-viewers.js)
- управление загрузкой гео-данных через API: cesium-api-loader.js (cesium/static/js/cesium-api-loader.js)
- управление загрузкой стилей объектов через API: cesium-styles.js (cesium/static/js/cesium-styles.js)

Подключение и управление через cesium-map.js (cesium/static/js/cesium-map.js):
- класс CesiumMap инициализирует:
- - менеджер стилей объектов (StyleManager) - осуществляет получение базовых стилей ЗМР, ОЗ, Охраняемых объектов
- - менеджер объектов (ObjectManager) - осуществляет загрузку объектов на карту через API, применяет стили
- - менеджер взаимодействия с объектами (interactionManager) - осуществляет управление взаимодействием с объектами на карте
- - модуль управления слоями (LayerPanel) - дает возможность изменять порядок, скрывать/показывать, перемещаться к слоям

Дополнительные модули:
- модуль взаимодействия с объектами карты: cesium-interactions.js (cesium/static/js/cesium-interactions.js):
- - подключает слушателей событий на клик левый, правый, двойной клик мыши. Демонстрирует возможность управление поведением в зависимости от выбранного объекта.


- модуль управления слоями карты: cesium-layerpanel.js (cesium/static/js/cesium-layerpanel.js)
- - следит за объектами на карте, дает контроль над видимостью, порядком отображения

**geo_repository**
Осуществляет управление таблицами базы данных гео-объектов (ЗМР, ОЗ, охраняемых объектов, ортофотопланов), формированием API ссылок, панелью администратора
